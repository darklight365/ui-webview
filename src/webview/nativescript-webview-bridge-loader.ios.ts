
export const webViewBridge: string = "Object.entries||(Object.entries=function(e){const t=Object.keys(e);let n=t.length;const r=new Array(n);for(;n--;)r[n]=[t[n],e[t[n]]];return r});class e{constructor(){this.eventListenerMap={}}onNativeEvent(e,t){const n=this.eventListenerMap[e];if(null==n?void 0:n.length)for(const e of n)if(!1===(e&&e(t)))break}on(e,t){t&&(this.eventListenerMap[e]||(this.eventListenerMap[e]=[]),this.eventListenerMap[e].push(t))}addEventListener(e,t){this.on(e,t)}off(e,t){e?this.eventListenerMap[e]&&(t?(this.eventListenerMap[e]=this.eventListenerMap[e].filter((e=>e!==t)),0===this.eventListenerMap[e].length&&delete this.eventListenerMap[e]):delete this.eventListenerMap[e]):this.eventListenerMap={}}removeEventListener(e,t){return this.off(e,t)}emit(e,t){this.emitEvent(e,JSON.stringify(t))}injectJavaScriptFile(e){const t=this.elementIdFromHref(e);return document.getElementById(t)?Promise.resolve():new Promise(((n,r)=>{const i=document.createElement(\"script\");i.async=!0,i.setAttribute(\"id\",t),i.addEventListener(\"error\",(e=>{r(this.serializeError(e)),i.parentElement&&i.parentElement.removeChild(i)})),i.addEventListener(\"load\",(function(){window.requestAnimationFrame((()=>{n()})),i.parentElement&&i.parentElement.removeChild(i)})),i.src=e,document.body.appendChild(i)}))}injectJavaScript(e,t){return document.getElementById(e)?Promise.resolve():new Promise(((n,r)=>{const i=document.createElement(\"script\");i.setAttribute(\"id\",e),i.addEventListener(\"error\",(function(e){r(e),i.parentElement&&i.parentElement.removeChild(i)})),i.text=t,document.body.appendChild(i),window.requestAnimationFrame((()=>n()))}))}injectStyleSheetFile(e,t){const n=this.elementIdFromHref(e);return document.getElementById(n)?Promise.resolve():new Promise(((r,i)=>{const s=document.createElement(\"link\");s.addEventListener(\"error\",(e=>{i(e),s.parentElement&&s.parentElement.removeChild(s)})),s.addEventListener(\"load\",(()=>{window.requestAnimationFrame((()=>{r()}))})),s.setAttribute(\"id\",n),s.setAttribute(\"rel\",\"stylesheet\"),s.setAttribute(\"type\",\"text/css\"),s.setAttribute(\"href\",e),document.head&&(t&&document.head.childElementCount>0?document.head.insertBefore(s,document.head.firstElementChild):document.head.appendChild(s))}))}injectStyleSheet(e,t,n){return document.getElementById(e)?Promise.resolve():new Promise(((r,i)=>{var s;const o=document.createElement(\"style\");o.addEventListener(\"error\",i),o.textContent=t,o.setAttribute(\"id\",e);const d=null!==(s=document.head)&&void 0!==s?s:document.body;d?(n&&d.childElementCount>0?document.head.insertBefore(o,d.firstElementChild):document.head.appendChild(o),r()):i(new Error(\"Couldn't find parent element\"))}))}async executePromise(e,t){try{const n=await e;this.emit(t,{data:n})}catch(e){this.emitError(e,t)}}emitError(e,t=\"web-error\"){\"object\"==typeof e&&(null==e?void 0:e.message)?this.emit(t,{err:this.serializeError(e)}):this.emit(t,{err:e})}elementIdFromHref(e){return e.replace(/^[:]*:\\/\\//,\"\").replace(/[^a-z0-9]/g,\"\")}serializeError(e){const{name:t,message:n,stack:r}=e,i={name:t,message:n,stack:r};for(const[t,n]of Object.entries(e))n instanceof HTMLElement||t in i||(i[t]=n);return i}}function t(){var e,t;const n=window;if(null===(t=null===(e=null==n?void 0:n.webkit)||void 0===e?void 0:e.messageHandlers)||void 0===t?void 0:t.nsBridge)return n.webkit.messageHandlers.nsBridge}class n extends e{emitEvent(e,n){const r=t();r&&r.postMessage(JSON.stringify({eventName:e,data:n}))}}const r=\"ns-bridge-ready\",i=window;if(!i.nsWebViewBridge){i.nsWebViewBridge=new n;for(const e of[\"ns-bridge-ready\",\"ns-brige-ready\"])\"undefined\"!=typeof CustomEvent?window.dispatchEvent(new CustomEvent(e,{detail:i.nsWebViewBridge})):window.dispatchEvent(new Event(e))}";
export const metadataViewPort: string = "!function(e){const t={initialScale:1},i=e.document;let a=i.querySelector('head meta[name=\"viewport\"]');a||(a=i.createElement(\"meta\"),a.setAttribute(\"name\",\"viewport\"),i.head.appendChild(a));let s=\"<%= VIEW_PORT %>\";s&&\"string\"!=typeof s||(s=t);const{initialScale:l=t.initialScale,width:n,height:o,userScalable:c,minimumScale:u,maximumScale:m}=s,h=[`initial-scale=${l}`];if(n&&h.push(`width=${n}`),o&&h.push(`height=${o}`),\"boolean\"==typeof c)h.push(\"user-scalable=\"+(c?\"yes\":\"no\"));else if(\"string\"==typeof c){const e=`${c}`.toLowerCase();\"yes\"===e?h.push(\"user-scalable=yes\"):\"no\"===e&&h.push(\"user-scalable=no\")}u&&h.push(`minimum-scale=${u}`),m&&h.push(`maximum-scale=${m}`),a.setAttribute(\"content\",h.join(\", \"))}(window);";
